{% extends "base.html" %} {% block title %}Breathing Circle{% endblock %} {%
block content %}
<div class="container">
  <div class="panel" style="max-width: 900px; position: relative">
    <h1>Breathing Circle</h1>
    <div
      id="planMeta"
      style="text-align: center; color: #94a3b8; margin-bottom: 8px"
    ></div>
    <div
      id="planQuote"
      style="
        text-align: center;
        color: #e2e8f0;
        margin: 4px 0 12px;
        font-style: italic;
      "
    ></div>

    <div
      class="breathing-circle-wrapper"
      style="
        position: relative;
        width: 240px;
        height: 240px;
        border-radius: 50%;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.06);
        box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.12);
      "
    >
      <div
        id="breathingCircle"
        class="breathing-circle"
        aria-label="Breathing animation"
        style="
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          width: 60px;
          height: 60px;
          border-radius: 50%;
          background: radial-gradient(circle, #38bdf8 60%, #6366f1 100%);
          box-shadow: 0 0 40px 10px #38bdf888, 0 0 0 4px #6366f144;
          opacity: 0.6;
        "
      ></div>
      <div
        id="phaseLabel"
        style="
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          color: #e2e8f0;
          pointer-events: none;
          mix-blend-mode: screen;
          text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        "
      >
        Inhale
      </div>
    </div>

    <button
      id="audioSettingsBtn"
      class="floating-settings"
      title="Audio settings"
      aria-label="Audio settings"
    >
      ⚙️
    </button>
    <div id="cycleCount" class="cycle-badge">0/5</div>
    <div class="audio-panel" id="audioPanel" aria-hidden="true">
      <div class="panel-title">Sound</div>
      <div class="panel-row">
        <label
          style="
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
          "
        >
          <span>Breath assistance</span>
          <input type="checkbox" id="assistOn" checked />
        </label>
      </div>
      <div class="panel-row">
        <label>
          Overall volume
          <input
            type="range"
            id="volMaster"
            min="0"
            max="1"
            step="0.01"
            value="1"
          />
        </label>
      </div>
      <div class="panel-row">
        <label>
          Background music
          <input
            type="range"
            id="volBg"
            min="0"
            max="1"
            step="0.01"
            value="0.3"
          />
        </label>
      </div>
    </div>

    <div
      class="controls"
      id="sessionControls"
      style="justify-content: center; gap: 12px"
    >
      <button id="startBtn">Start</button>
    </div>
    <div class="controls">
      <a href="/">Home</a>
    </div>
  </div>
</div>
{% endblock %} {% block scripts %}
<script src="/static/js/pages/circle-meta.js"></script>
<script src="/static/js/pages/circle-audio.js"></script>
<script src="/static/js/pages/circle-run.js"></script>
{% endblock %}
